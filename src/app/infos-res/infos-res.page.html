<ion-header>
  <ion-toolbar>
    <!-- bouton de retour en arri√®re -->
    <ion-buttons slot="start">
      <ion-back-button defaultHref="residences"></ion-back-button>
    </ion-buttons>

    <ion-title>R√©sidence {{json.name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- slide refresh -->
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- image de fond -->
  <ion-header #masthead class="masthead"></ion-header>

  <!--Liste des √©mojis : https://www.w3schools.com/charsets/ref_emoji.asp -->
  <!-- https://icones8.fr/icons -->
  <p *ngFor="let news of json.news"> &nbsp; {{ news }} </p>
  <br>


  <!-- on v√©rifie qu'il y a des liens √† afficher -->
  <div *ngIf="json.nameLiens !== ''">
    <!--ajout de la barre lien-->
    <ion-title> {{json.nameLiens}} üìù</ion-title>

    <!-- barre d'erreur si on a pas de connexion -->
    <app-erreur-connexion *ngIf="!json.constructor.length"></app-erreur-connexion>

    <!-- div contenant les barres et le texte -->
    <div id="liens">
      <ion-grid>
        <ion-row>
          <!-- ajout des barres en fonction du json -->
          <ion-col *ngFor="let lien of json.liens">
            <app-btn-list [id]="lien.id" [content]="lien.content"
                          [idAffichage]="[(json.nameLiens !== '') ? 'div_liens' : '', (json.nameInfos !== '') ? 'div_infos' : '']"></app-btn-list>
          </ion-col>
        </ion-row>
      </ion-grid>

      <div id="div_liens">
      </div>
    </div>
    <br>
  </div>


  <!-- on v√©rifie qu'il y a des infos √† afficher -->
  <div *ngIf="json.nameInfos !== ''">
    <!--ajout de la barre infos -->
    <ion-title> {{json.nameInfos}} üì£</ion-title>

    <!-- barre d'erreur si on a pas de connexion -->
    <app-erreur-connexion *ngIf="!json.constructor.length"></app-erreur-connexion>

    <!-- div contenant les barres et le texte -->
    <div id="infos">
      <ion-grid>
        <ion-row>
          <!-- ajout des barres en fonction du json -->
          <ion-col *ngFor="let info of json.infos">
            <app-btn-list [id]="info.id" [content]="info.content"
                          [idAffichage]="[(json.nameInfos !== '') ? 'div_infos' : '', (json.nameLiens !== '') ? 'div_liens' : '']"></app-btn-list>
          </ion-col>
        </ion-row>
      </ion-grid>

      <div id="div_infos">
      </div>
    </div>
  </div>

  <app-template-page [json]="json"></app-template-page>

</ion-content>
